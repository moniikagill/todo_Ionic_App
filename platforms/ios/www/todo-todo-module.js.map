{"version":3,"sources":["webpack:///./src/app/todo/todo.module.ts","webpack:///./src/app/todo/todo.page.html","webpack:///./src/app/todo/todo.page.scss","webpack:///./src/app/todo/todo.page.ts"],"names":[],"mappings":"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","file":"todo-todo-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TodoPage } from './todo.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TodoPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [TodoPage]\n})\nexport class TodoPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-title>My todo</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button fill=\\\"clear\\\" slot=\\\"icon-only\\\" (click)=\\\"logout()\\\">\\n        <ion-icon name=\\\"log-out\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n\\n  <ion-list>\\n    <ion-item-sliding *ngFor=\\\"let todo of todos\\\">\\n      <ion-item>\\n        <ion-label>\\n          <h2>{{todo.data().title}}</h2>\\n          <h3>{{todo.data().description}}</h3>\\n          <p *ngIf=\\\"todo.data().date\\\" [innerHTML]= \\\"getDate(todo.data().date)\\\"></p>\\n        </ion-label>\\n      </ion-item>\\n      <ion-item-options slide=\\\"end\\\">\\n        <ion-item-option color=\\\"danger\\\" (click)=\\\"markDone(todo)\\\">\\n         <ion-icon name=\\\"checkmark\\\"></ion-icon>\\n        </ion-item-option>\\n\\n      </ion-item-options>\\n    </ion-item-sliding>\\n  </ion-list>\\n  <!--  floating action button -->\\n  <ion-fab horizontal=\\\"end\\\" vertical=\\\"bottom\\\" slot=\\\"fixed\\\" (click)=\\\"addnewTodo()\\\">\\n    <ion-fab-button color=\\\"danger\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RvZG8vdG9kby5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\n// navcontroller import\nimport { NavController, ToastController} from '@ionic/angular';\n// retreive documents from firebase\nimport * as firebase from 'firebase' ;\n//import { AngularFireAuth } from '@angular/fire/auth'; public afAuth: AngularFireAuth\n\n@Component({\n  selector: 'app-todo',\n  templateUrl: './todo.page.html',\n  styleUrls: ['./todo.page.scss'],\n})\nexport class TodoPage implements OnInit {\n\n  userId: string;\n  todos: any[] = [];\n  constructor(private navCtrl: NavController, private toastCtrl: ToastController\n              )\n {\n    this.userId = firebase.auth().currentUser.uid;\n    this.getTodoData();\n  }\n\n  ngOnInit() {\n  }\n  // to display dtae nicely on the todo list page\n getDate(timestamp: firebase.firestore.Timestamp) {\n   let date = timestamp.toDate();\n   return date.toLocaleDateString();\n\n }\n\n  // get the data displays the data from firebase\n  getTodoData() {\n    firebase.firestore().collection('todos')\n    .where('owner', '==', this.userId)\n    .where('status', '==', 'incomplete')   // only show the tasks that are not marked as completed\n    .onSnapshot((querySnapshot) => {    // using onSnapshot instead of get will show newly added todo as soon as its added\n      this.todos = querySnapshot.docs; // docs will display all the documents that match the owner\n    });\n  }\n addnewTodo() {\n  this.navCtrl.navigateForward(['/add-newtodo']);\n }\n\n markDone(document: firebase.firestore.QueryDocumentSnapshot) {\n\n  firebase.firestore().collection('todos').doc(document.id).set({\n    status: 'completed'\n  }, {\n    merge: true\n  \n  }).then(() => {\n    this.toastCtrl.create({\n      message: 'This item is marked as completed!',\n      duration: 2000\n    }).then((toast) => {\n      toast.present();\n    });\n  });\n\n }\n logout() {\n   firebase.auth().signOut().then(() => {\n    \n    console.log('signedout');\n    \n    this.navCtrl.navigateRoot('/login');\n   \n     // this.navCtrl.navigateRoot('');\n   }).catch((err) => {\n    console.log(err);\n   });\n\n }\n// public async logout(): Promise<any> {\n\n\n//   try {\n\n//     return await this.afAuth.auth.signOut();\n//   } catch (e) {\n//     console.error('ig hu?', e);\n//   }\n\n\n// }\n\n\n}\n"],"sourceRoot":""}